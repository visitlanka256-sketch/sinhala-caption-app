<!DOCTYPE html>
<html lang="si">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <title>Admin Panel | Sinhala Caption App</title>

  <!-- Admin CSS -->
  <link rel="stylesheet" href="css/admin.css">

  <!-- Icons -->
  <link rel="icon" href="icons/icon-192x192.png">

  <!-- Firebase Admin JS -->
  <script type="module" src="js/admin.js"></script>
</head>

<body>

<!-- ğŸ” LOGIN BOX -->
<div id="loginBox" class="login-box">
  <h2>ğŸ” Admin Login</h2>
  <input id="email" type="email" placeholder="Admin Email">
  <input id="password" type="password" placeholder="Password">
  <button onclick="login()">Login</button>
</div>

<!-- ğŸ›  ADMIN PANEL -->
<div id="adminPanel" style="display:none;">

  <!-- HEADER -->
  <header class="admin-header">
    <h1>Sinhala Caption Admin</h1>
    <button class="logout-btn" onclick="logout()">Logout</button>
  </header>

  <!-- ğŸ“Š STATS -->
  <section class="stats">
    <div class="stat-card">
      <h3 id="totalCount">0</h3>
      <p>Total Captions</p>
    </div>

    <div class="stat-card">
      <h3 id="premiumCount">0</h3>
      <p>Premium</p>
    </div>

    <div class="stat-card">
      <h3 id="dailyCount">0</h3>
      <p>Daily</p>
    </div>
  </section>

  <!-- â• ADD CAPTION -->
  <section class="add-caption">
    <h2>â• Add Caption</h2>
    
<!-- Image Upload -->
<input type="file" id="captionImage" accept="image/*">

<!-- Preview -->
<img id="previewImg"
     style="width:100%;margin-top:10px;border-radius:12px;display:none;">

    <textarea
      id="captionText"
      placeholder="à·ƒà·’à¶‚à·„à¶½ Caption à¶‘à¶š à¶¸à·™à¶­à¶± à¶§à¶ºà·’à¶´à·Š à¶šà¶»à¶±à·Šà¶±..."
    ></textarea>

    <select id="captionCategory">
      <option value="love">â¤ï¸ Love</option>
      <option value="sad">ğŸ˜¢ Sad</option>
      <option value="funny">ğŸ˜‚ Funny</option>
      <option value="motivation">ğŸ”¥ Motivation</option>
      <option value="attitude">ğŸ˜ Attitude</option>
    </select>

    <button class="add-btn" onclick="addCaption()">Add Caption</button>
  </section>

  <!-- ğŸ“ƒ CAPTION LIST -->
  <section class="caption-section">
    <h2>ğŸ“ƒ Captions</h2>
    <div id="captionList" class="caption-list"></div>
  </section>

</div>
  
<script>
document.getElementById("captionImage").onchange = e => {
  const file = e.target.files[0];
  if (!file) return;

  const img = document.getElementById("previewImg");
  img.src = URL.createObjectURL(file);
  img.style.display = "block";
};
</script>

</body>
</html>
